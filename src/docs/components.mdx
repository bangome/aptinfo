# Component Library

아파트인포의 UI 컴포넌트 라이브러리 사용 가이드입니다.

## Button Component

### 기본 사용법

```tsx
import { Button } from '@/components/ui/button-enhanced';

// 기본 버튼
<Button>기본 버튼</Button>

// Variant 사용
<Button variant="primary">주요 버튼</Button>
<Button variant="secondary">보조 버튼</Button>
<Button variant="outline">아웃라인 버튼</Button>
<Button variant="ghost">고스트 버튼</Button>
```

### Variants
- **primary**: 주요 액션 (CTA, 폼 제출 등)
- **secondary**: 보조 액션
- **outline**: 중요도가 낮은 액션
- **ghost**: 최소한의 스타일이 필요한 액션
- **destructive**: 삭제, 취소 등 위험한 액션
- **cta**: 특별한 콜투액션
- **bookmark**: 북마크 기능
- **compare**: 비교 기능
- **filter**: 필터 기능

### Sizes
- **sm**: 작은 버튼 (32px)
- **default**: 기본 버튼 (40px)
- **lg**: 큰 버튼 (48px)
- **icon**: 아이콘 전용 (40x40px)
- **icon-sm**: 작은 아이콘 (32x32px)

### 접근성 가이드라인
```tsx
// 아이콘만 있는 버튼은 반드시 aria-label 제공
<Button variant="ghost" size="icon" aria-label="메뉴 열기">
  <Menu className="h-4 w-4" />
</Button>

// 로딩 상태 표시
<Button disabled={isLoading}>
  {isLoading ? '저장 중...' : '저장'}
</Button>
```

## Card Component

### 기본 사용법

```tsx
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';

<Card>
  <CardHeader>
    <CardTitle>카드 제목</CardTitle>
  </CardHeader>
  <CardContent>
    카드 내용
  </CardContent>
</Card>
```

### 구성 요소
- **Card**: 메인 컨테이너
- **CardHeader**: 제목 영역
- **CardTitle**: 제목 텍스트
- **CardDescription**: 설명 텍스트
- **CardContent**: 본문 내용
- **CardFooter**: 하단 액션 영역

## Badge Component

### 기본 사용법

```tsx
import { Badge } from '@/components/ui/badge';

<Badge>기본 배지</Badge>
<Badge variant="secondary">보조 배지</Badge>
<Badge variant="outline">아웃라인 배지</Badge>
<Badge variant="destructive">위험 배지</Badge>
```

### 사용 사례
- 상태 표시 (활성/비활성)
- 카테고리 표시
- 필터 태그
- 알림 카운트

## Form Components

### Input

```tsx
import { Input } from '@/components/ui/input';

<Input
  type="text"
  placeholder="텍스트 입력"
  value={value}
  onChange={(e) => setValue(e.target.value)}
/>
```

### Select

```tsx
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';

<Select value={value} onValueChange={setValue}>
  <SelectTrigger>
    <SelectValue placeholder="선택하세요" />
  </SelectTrigger>
  <SelectContent>
    <SelectItem value="option1">옵션 1</SelectItem>
    <SelectItem value="option2">옵션 2</SelectItem>
  </SelectContent>
</Select>
```

### Checkbox

```tsx
import { Checkbox } from '@/components/ui/checkbox';

<div className="flex items-center space-x-2">
  <Checkbox
    id="terms"
    checked={accepted}
    onCheckedChange={setAccepted}
  />
  <label htmlFor="terms" className="text-sm">
    이용약관에 동의합니다
  </label>
</div>
```

### Slider

```tsx
import { Slider } from '@/components/ui/slider';

<Slider
  value={[value]}
  onValueChange={([newValue]) => setValue(newValue)}
  max={100}
  min={0}
  step={1}
/>
```

## Navigation Components

### Sheet (Mobile Drawer)

```tsx
import { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from '@/components/ui/sheet';

<Sheet>
  <SheetTrigger asChild>
    <Button variant="outline">메뉴 열기</Button>
  </SheetTrigger>
  <SheetContent side="left">
    <SheetHeader>
      <SheetTitle>메뉴</SheetTitle>
    </SheetHeader>
    <div className="mt-6">
      메뉴 내용
    </div>
  </SheetContent>
</Sheet>
```

### Separator

```tsx
import { Separator } from '@/components/ui/separator';

<div>
  <p>첫 번째 섹션</p>
  <Separator className="my-4" />
  <p>두 번째 섹션</p>
</div>
```

## Layout Patterns

### Container

```tsx
<div className="container px-4 py-6 sm:py-8">
  {/* 콘텐츠 */}
</div>
```

### Grid Layout

```tsx
// 반응형 그리드
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  {items.map(item => (
    <Card key={item.id}>
      {/* 카드 내용 */}
    </Card>
  ))}
</div>
```

### Flexbox Layout

```tsx
// 중앙 정렬
<div className="flex items-center justify-center min-h-screen">
  <div>중앙 콘텐츠</div>
</div>

// 간격 있는 플렉스
<div className="flex items-center gap-4">
  <Button variant="outline">취소</Button>
  <Button>확인</Button>
</div>
```

## 상태 관리

### Loading States

```tsx
// 버튼 로딩
<Button disabled={isLoading}>
  {isLoading ? '저장 중...' : '저장'}
</Button>

// 카드 로딩
{isLoading ? (
  <div className="animate-pulse">
    <div className="h-4 bg-muted rounded w-3/4 mb-2"></div>
    <div className="h-4 bg-muted rounded w-1/2"></div>
  </div>
) : (
  <div>실제 콘텐츠</div>
)}
```

### Error States

```tsx
// 에러 메시지
{error && (
  <div className="p-4 border border-destructive text-destructive rounded-lg">
    {error}
  </div>
)}

// 에러 폴백
{apartments.length === 0 && !isLoading && (
  <div className="text-center py-12">
    <p className="text-muted-foreground">검색 결과가 없습니다.</p>
  </div>
)}
```

### Empty States

```tsx
// 빈 상태 표시
{items.length === 0 && (
  <div className="text-center py-12">
    <Building2 className="h-12 w-12 mx-auto text-muted-foreground mb-4" />
    <h3 className="text-lg font-semibold mb-2">아직 등록된 아파트가 없습니다</h3>
    <p className="text-muted-foreground mb-4">
      새로운 아파트를 등록해보세요.
    </p>
    <Button>아파트 등록하기</Button>
  </div>
)}
```

## Best Practices

### 컴포넌트 조합

```tsx
// 좋은 예: 의미 있는 컴포넌트 조합
<Card>
  <CardHeader>
    <CardTitle className="flex items-center justify-between">
      <span>아파트 이름</span>
      <Badge variant="secondary">매매</Badge>
    </CardTitle>
  </CardHeader>
  <CardContent className="space-y-4">
    <div className="flex items-center text-muted-foreground">
      <MapPin className="h-4 w-4 mr-2" />
      주소
    </div>
    <Separator />
    <div className="flex justify-between">
      <span>가격</span>
      <span className="font-semibold">15억원</span>
    </div>
  </CardContent>
</Card>
```

### 반응형 디자인

```tsx
// 반응형 클래스 사용
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6">
  {/* 아이템들 */}
</div>

// 반응형 텍스트 크기
<h1 className="text-2xl sm:text-3xl lg:text-4xl font-bold">
  제목
</h1>

// 반응형 패딩
<div className="px-4 sm:px-6 lg:px-8">
  {/* 콘텐츠 */}
</div>
```

### 접근성

```tsx
// 스크린 리더 전용 텍스트
<span className="sr-only">화면에 보이지 않지만 스크린 리더가 읽음</span>

// 포커스 관리
<button className="focus-outline">
  포커스 가능한 요소
</button>

// ARIA 라벨
<button aria-label="검색" aria-describedby="search-help">
  <Search className="h-4 w-4" />
</button>
<div id="search-help" className="sr-only">
  아파트명이나 지역명을 검색할 수 있습니다
</div>
```

## 커스텀 컴포넌트 만들기

### 컴포넌트 구조

```tsx
import { cn } from '@/lib/utils';
import { forwardRef } from 'react';

interface CustomComponentProps {
  children: React.ReactNode;
  variant?: 'default' | 'secondary';
  className?: string;
}

const CustomComponent = forwardRef<HTMLDivElement, CustomComponentProps>(
  ({ children, variant = 'default', className, ...props }, ref) => {
    return (
      <div
        ref={ref}
        className={cn(
          // 기본 스타일
          'rounded-lg border p-4',
          // variant 스타일
          {
            'bg-background text-foreground': variant === 'default',
            'bg-muted text-muted-foreground': variant === 'secondary',
          },
          className
        )}
        {...props}
      >
        {children}
      </div>
    );
  }
);

CustomComponent.displayName = 'CustomComponent';

export { CustomComponent };
```

### 컴포넌트 테스트

```tsx
// 기본 렌더링 테스트
test('renders custom component', () => {
  render(<CustomComponent>Test content</CustomComponent>);
  expect(screen.getByText('Test content')).toBeInTheDocument();
});

// variant 테스트
test('applies secondary variant styles', () => {
  render(<CustomComponent variant="secondary">Test</CustomComponent>);
  const component = screen.getByText('Test');
  expect(component).toHaveClass('bg-muted');
});
```